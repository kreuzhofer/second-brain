# ===========================================
# Second Brain - Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values

# -------------------------------------------
# Required Variables
# -------------------------------------------

# OpenAI API key for LLM-powered classification
OPENAI_API_KEY=sk-your-openai-api-key-here

# PostgreSQL connection string
DATABASE_URL=postgresql://secondbrain:secondbrain@db:5432/secondbrain

# API authentication key (generate a secure random string) with openssl
# Example: openssl rand -base64 32
API_KEY=your-secure-api-key-here

# Path to data directory (outside project, has its own git repo)
# Examples:
#   DATA_PATH=~/second-brain-memory
#   DATA_PATH=/mnt/data/second-brain
DATA_PATH=./memory

# -------------------------------------------
# Optional Variables (with defaults)
# -------------------------------------------

# Timezone for scheduled jobs and timestamps
# Default: Europe/Berlin
TIMEZONE=Europe/Berlin

# Server port
# Default: 3002
PORT=3002

# -------------------------------------------
# Chat Configuration
# -------------------------------------------

# Confidence threshold for auto-classification
# Entries below this threshold go to inbox
# Default: 0.6
CONFIDENCE_THRESHOLD=0.6

# Maximum number of recent messages to include verbatim in context
# Default: 15
MAX_VERBATIM_MESSAGES=15

# Number of messages after which conversation summarization triggers
# Default: 20
SUMMARIZE_AFTER_MESSAGES=20

# -------------------------------------------
# Email Channel (Optional)
# -------------------------------------------
# The email channel is completely optional. When not configured,
# the application functions normally without email capabilities.
# Email is enabled only when ALL SMTP and IMAP variables are set.
#
# At startup, the app verifies connectivity to both servers and logs:
#   "SMTP: connection verified ✓" or error message
#   "IMAP: connection verified ✓" or error message

# SMTP Configuration (for sending emails)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-specific-password
#
# SMTP_SECURE - TLS mode (optional, auto-detected from port if not set)
#   Port 465: secure=true (implicit TLS - encrypted from start)
#   Port 587: secure=false (STARTTLS - upgrades to TLS after connect)
#   Set explicitly to override: true/false, yes/no, 1/0
# SMTP_SECURE=false

# IMAP Configuration (for receiving emails)
# IMAP_HOST=imap.gmail.com
# IMAP_PORT=993
# IMAP_USER=your-email@gmail.com
# IMAP_PASS=your-app-specific-password

# Email polling interval in seconds
# Default: 60
# EMAIL_POLL_INTERVAL=60
